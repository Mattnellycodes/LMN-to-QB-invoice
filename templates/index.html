{% extends "base.html" %}

{% block title %}LMN to QuickBooks - Home{% endblock %}

{% block content %}
<h1>LMN to QuickBooks Invoice Automation</h1>

<p>This tool automates creating QuickBooks Online invoices from LMN timesheet exports.</p>

<h2>QuickBooks Connection</h2>

<div class="mb-20">
    {% if is_connected %}
        <span class="status-badge status-connected">Connected</span>
        <span class="text-muted" style="margin-left: 10px;">Company ID: {{ realm_id }}</span>
    {% else %}
        <span class="status-badge status-disconnected">Not Connected</span>
    {% endif %}
</div>

{% if is_connected %}
    <p>You're connected to QuickBooks Online. Ready to process invoices!</p>
    <div class="mt-20">
        <a href="{{ url_for('upload') }}" class="btn btn-success">Upload CSV Files</a>
        <a href="{{ url_for('qbo_disconnect') }}" class="btn btn-secondary" style="margin-left: 10px;">Disconnect</a>
    </div>
{% else %}
    <p>Connect to QuickBooks Online to start creating invoices.</p>
    <div class="mt-20">
        <a href="{{ url_for('qbo_authorize') }}" class="btn">Connect to QuickBooks</a>
    </div>
{% endif %}

<h2 class="mt-20">How It Works</h2>
<ol>
    <li><strong>Connect</strong> - Authorize access to your QuickBooks Online account</li>
    <li><strong>Upload</strong> - Upload your LMN Time Data and Service Data CSV exports</li>
    <li><strong>Map</strong> - Match any new jobsites to QuickBooks customers</li>
    <li><strong>Review</strong> - Preview invoices before creating them</li>
    <li><strong>Create</strong> - Create draft invoices in QuickBooks for final review</li>
</ol>
{% endblock %}
